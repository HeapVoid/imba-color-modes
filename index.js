var Y=Symbol.for("#__init__"),H=Symbol.for("#__initor__"),y=Symbol.for("#__inited__"),F=Symbol.for("#__hooks__"),d=Symbol.for("#__patch__"),$=Symbol.for("#has"),f=Symbol.for("#meta"),h=Symbol.for("imba"),k=Symbol.for("#__mixin__"),g=Symbol.for("#matcher"),o=Symbol.for("#L"),b=Symbol.for("#appendChild"),r=Symbol.for("#afterVisit"),n=Symbol.for("#beforeReconcile"),m=Symbol.for("#afterReconcile"),t=Symbol.for("##up");var A={IsExtension:1,IsTag:2,HasDescriptors:4,HasSuperCalls:8,HasConstructor:16,HasFields:32,HasMixins:64,HasInitor:128,HasDecorators:256,IsObjectExtension:512},W=new Map,p=globalThis[h]||={counter:0,classes:W};function Z(q,w={}){return W.has(q)||W.set(q,{symbol:Symbol(q.name),parent:Object.getPrototypeOf(q.prototype)?.constructor,for:q,uses:null,inits:null,id:p.counter++,...w}),W.get(q)}function K(q,w){return w?.[$]?.(q)??w?.includes?.(q)??w?.has?.(q)??!1}function u(q,w){if(!q||!w)return!1;if(q.get)return w.get===q.get;if(q.set)return w.set===q.set;if(q.value)return q.value===w.value}function S(q,w,z,B={}){let I=q.constructor;if(!z&&w){if(z=Object.getOwnPropertyDescriptors(w),delete z.constructor,z[Y])console.warn(`Cannot define plain fields when extending class ${I.name}`),delete z[Y]}let G=Z(I);if(G&&G.augments){let J=new Map;for(let E of Object.keys(z)){let N=Object.getOwnPropertyDescriptor(q,E);for(let P of G.augments){let Q=J.get(P);Q||J.set(P,Q={});let U=Object.getOwnPropertyDescriptor(P.prototype,E);if(U&&!u(N,U))console.warn("wont extend",E,U,N);else Q[E]=z[E]}}for(let[E,N]of J)if(Object.keys(N).length)S(E.prototype,null,N)}return Object.defineProperties(q,z),q}function C(q,w){let z=Z(q),B=Z(w);if(B.parent){if(!(q.prototype instanceof B.parent))throw new Error(`Mixin ${w.name} has superclass not present in target class`)}if(!B.augments){B.augments=new Set;let G=B.ref=Symbol(w.name),J=Object[Symbol.hasInstance];w.prototype[G]=!0,Object.defineProperty(w,Symbol.hasInstance,{value:function(E){return this===w?E&&!!E[G]:J.call(this,E)}})}if(q.prototype[B.ref])return q;if(B.uses)for(let G of B.uses)C(q,G);B.augments.add(q),z.uses||=[],z.uses.push(w);let I=Object.getOwnPropertyDescriptors(w.prototype);if(delete I.constructor,I[Y])z.inits||=[],z.inits.push(w.prototype[Y]),delete I[Y];if(Object.defineProperties(q.prototype,I),w?.mixed instanceof Function)w.mixed(q);return q}var V={cache:{},self:null,target:null,proxy:new Proxy({},{apply:(q,w,...z)=>{return V.target[w].apply(V.self,z)},get:(q,w)=>{return Reflect.get(V.target,w,V.self)},set:(q,w,z,B)=>{return Reflect.set(V.target,w,z,V.self)}})};function R(q,w,z,B,I=null){let G=Object.getPrototypeOf(q.prototype),J=B&A.HasMixins,E;if(J)W.set(q,W.get(G.constructor)),G=Object.getPrototypeOf(G);if(I){let P=B&A.IsObjectExtension?I:I.prototype,Q=Z(q);if(Q.uses){if(I===P)console.warn("Cannot extend object with mixins");for(let U of Q.uses)C(I,U)}if(B&A.HasSuperCalls)V.cache[w]=Object.create(Object.getPrototypeOf(P),Object.getOwnPropertyDescriptors(P));return S(P,q.prototype),I}let N=G?.constructor;if(E=Z(q,{symbol:w}),Object.defineProperty(q,f,{value:E,enumerable:!1,configurable:!0}),z&&q.name!==z)Object.defineProperty(q,"name",{value:z,configurable:!0});if(E.flags=B,B&A.HasConstructor)q.prototype[H]=w;if(E.uses)for(let P of E.uses)P.mixes?.(q);if(N?.inherited instanceof Function)N.inherited(q);return q}function j(q,w){if(q[H]===w)q[y]?.(),q[F]&&q[F].inited(q)}var M=Symbol();class _{constructor(){globalThis.document.documentElement.style.colorScheme=this.active,j(this,M)}get light(){return this.preset=="light"}set light(q){if(q)this.preset="light"}get dark(){return this.preset=="dark"}set dark(q){if(q)this.preset="dark"}get auto(){return this.preset=="system"}set auto(q){if(q)this.preset="system"}get active(){return this.preset=="system"?this.system:window.localStorage.getItem("imba-color-modes")}set active(q){this.preset=q}get system(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}get preset(){let q=window.localStorage.getItem("imba-color-modes");return K(q,["light","dark"])?q:"system"}set preset(q){let w=K(q,["light","dark"])?q:"system";window.localStorage.setItem("imba-color-modes",w),globalThis.document.documentElement.style.colorScheme=this.active}toggle(){if(this.active=="dark")return this.light=!0;else return this.dark=!0}static{R(this,M,"ColorModes",16)}}function T(q){if(q=q.replace(/^#/,""),q.length===3)q=q.split("").map(function(z){return z+z}).join("");let w=parseInt(q,16);return{r:w>>16&255,g:w>>8&255,b:w&255}}function x(q,w,z){let B=function(I){return I.toString(16).padStart(2,"0")};return"#"+B(q)+B(w)+B(z)}function X(q){return q/=255,q<=0.04045?q/12.92:Math.pow((q+0.055)/1.055,2.4)}function O(q){return q<=0.0031308?12.92*q:1.055*Math.pow(q,0.4166666666666667)-0.055}function v(q,w,z){let B=0.4122214708*q+0.5363325363*w+0.0514459929*z,I=0.2119034982*q+0.6806995451*w+0.1073969566*z,G=0.0883024619*q+0.2817188376*w+0.6299787005*z,J=Math.cbrt(B),E=Math.cbrt(I),N=Math.cbrt(G);return{L:0.2104542553*J+0.793617785*E-0.0040720468*N,a:1.9779984951*J-2.428592205*E+0.4505937099*N,b:0.0259040371*J+0.7827717662*E-0.808675766*N}}function c(q,w,z){let B=q+0.3963377774*w+0.2158037573*z,I=q-0.1055613458*w-0.0638541728*z,G=q-0.0894841775*w-1.291485548*z,J=B**3,E=I**3,N=G**3;return{r:4.0767416621*J-3.3077115913*E+0.2309699292*N,g:-1.2684380046*J+2.6097574011*E-0.3413193965*N,b:-0.0041960863*J-0.7034186147*E+1.707614701*N}}function L(q,w,z){let B=T(q),I=T(z),G={r:X(B.r),g:X(B.g),b:X(B.b)},J={r:X(I.r),g:X(I.g),b:X(I.b)},E=v(G.r,G.g,G.b),N=v(J.r,J.g,J.b),P=w/100,Q={L:E.L*P+N.L*(1-P),a:E.a*P+N.a*(1-P),b:E.b*P+N.b*(1-P)},U=c(Q.L,Q.a,Q.b),D={r:Math.round(Math.min(Math.max(O(U.r),0),1)*255),g:Math.round(Math.min(Math.max(O(U.g),0),1)*255),b:Math.round(Math.min(Math.max(O(U.b),0),1)*255)};return x(D.r,D.g,D.b)}function e(q,w=10,z=[],B=[]){if(!z||z.length!=2||!B||B.length!=2){console.log("Palletes must be defined as two colors");return}if(!w||w<4){console.log("Count of colors in pallete must be greater than 3");return}globalThis.document.documentElement.style.setProperty("--"+q+"0","light-dark("+z[0]+","+B[0]+")");for(let I=w-2,G=1,J=I-G;J>0?G<=I:G>=I;J>0?G++:G--){let E=L(z[1],G*100/(w-1),z[0]),N=L(B[1],G*100/(w-1),B[0]);globalThis.document.documentElement.style.setProperty("--"+q+G,"light-dark("+E+","+N+")")}return globalThis.document.documentElement.style.setProperty("--"+q+(w-1),"light-dark("+z[1]+","+B[1]+")")}export{e as pallete,L as mix,_ as ColorModes};
