var Y=Symbol.for("#__init__"),H=Symbol.for("#__initor__"),h=Symbol.for("#__inited__"),F=Symbol.for("#__hooks__"),x=Symbol.for("#__patch__"),y=Symbol.for("#has"),$=Symbol.for("#meta"),f=Symbol.for("imba"),g=Symbol.for("#__mixin__"),k=Symbol.for("#matcher"),o=Symbol.for("#L"),b=Symbol.for("#appendChild"),r=Symbol.for("#afterVisit"),n=Symbol.for("#beforeReconcile"),m=Symbol.for("#afterReconcile"),t=Symbol.for("##up");var A={IsExtension:1,IsTag:2,HasDescriptors:4,HasSuperCalls:8,HasConstructor:16,HasFields:32,HasMixins:64,HasInitor:128,HasDecorators:256,IsObjectExtension:512},W=new Map,u=globalThis[f]||={counter:0,classes:W};function Z(q,w={}){return W.has(q)||W.set(q,{symbol:Symbol(q.name),parent:Object.getPrototypeOf(q.prototype)?.constructor,for:q,uses:null,inits:null,id:u.counter++,...w}),W.get(q)}function K(q,w){return w?.[y]?.(q)??w?.includes?.(q)??w?.has?.(q)??!1}function p(q,w){if(!q||!w)return!1;if(q.get)return w.get===q.get;if(q.set)return w.set===q.set;if(q.value)return q.value===w.value}function S(q,w,z,E={}){let G=q.constructor;if(!z&&w){if(z=Object.getOwnPropertyDescriptors(w),delete z.constructor,z[Y])console.warn(`Cannot define plain fields when extending class ${G.name}`),delete z[Y]}let B=Z(G);if(B&&B.augments){let N=new Map;for(let I of Object.keys(z)){let J=Object.getOwnPropertyDescriptor(q,I);for(let P of B.augments){let Q=N.get(P);Q||N.set(P,Q={});let U=Object.getOwnPropertyDescriptor(P.prototype,I);if(U&&!p(J,U))console.warn("wont extend",I,U,J);else Q[I]=z[I]}}for(let[I,J]of N)if(Object.keys(J).length)S(I.prototype,null,J)}return Object.defineProperties(q,z),q}function C(q,w){let z=Z(q),E=Z(w);if(E.parent){if(!(q.prototype instanceof E.parent))throw new Error(`Mixin ${w.name} has superclass not present in target class`)}if(!E.augments){E.augments=new Set;let B=E.ref=Symbol(w.name),N=Object[Symbol.hasInstance];w.prototype[B]=!0,Object.defineProperty(w,Symbol.hasInstance,{value:function(I){return this===w?I&&!!I[B]:N.call(this,I)}})}if(q.prototype[E.ref])return q;if(E.uses)for(let B of E.uses)C(q,B);E.augments.add(q),z.uses||=[],z.uses.push(w);let G=Object.getOwnPropertyDescriptors(w.prototype);if(delete G.constructor,G[Y])z.inits||=[],z.inits.push(w.prototype[Y]),delete G[Y];if(Object.defineProperties(q.prototype,G),w?.mixed instanceof Function)w.mixed(q);return q}var V={cache:{},self:null,target:null,proxy:new Proxy({},{apply:(q,w,...z)=>{return V.target[w].apply(V.self,z)},get:(q,w)=>{return Reflect.get(V.target,w,V.self)},set:(q,w,z,E)=>{return Reflect.set(V.target,w,z,V.self)}})};function R(q,w,z,E,G=null){let B=Object.getPrototypeOf(q.prototype),N=E&A.HasMixins,I;if(N)W.set(q,W.get(B.constructor)),B=Object.getPrototypeOf(B);if(G){let P=E&A.IsObjectExtension?G:G.prototype,Q=Z(q);if(Q.uses){if(G===P)console.warn("Cannot extend object with mixins");for(let U of Q.uses)C(G,U)}if(E&A.HasSuperCalls)V.cache[w]=Object.create(Object.getPrototypeOf(P),Object.getOwnPropertyDescriptors(P));return S(P,q.prototype),G}let J=B?.constructor;if(I=Z(q,{symbol:w}),Object.defineProperty(q,$,{value:I,enumerable:!1,configurable:!0}),z&&q.name!==z)Object.defineProperty(q,"name",{value:z,configurable:!0});if(I.flags=E,E&A.HasConstructor)q.prototype[H]=w;if(I.uses)for(let P of I.uses)P.mixes?.(q);if(J?.inherited instanceof Function)J.inherited(q);return q}function j(q,w){if(q[H]===w)q[h]?.(),q[F]&&q[F].inited(q)}var M=Symbol();class _{constructor(){globalThis.document.documentElement.style.colorScheme=this.active,j(this,M)}get light(){return this.preset=="light"}set light(q){if(q)this.preset="light"}get dark(){return this.preset=="dark"}set dark(q){if(q)this.preset="dark"}get auto(){return this.preset=="system"}set auto(q){if(q)this.preset="system"}get active(){return this.preset=="system"?this.system:window.localStorage.getItem("_color_mode")}set active(q){this.preset=q}get system(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}get preset(){let q=window.localStorage.getItem("_color_mode");return K(q,["light","dark"])?q:"system"}set preset(q){let w=K(q,["light","dark"])?q:"system";window.localStorage.setItem("_color_mode",w),globalThis.document.documentElement.style.colorScheme=this.active}toggle(){if(this.active=="dark")return this.light=!0;else return this.dark=!0}static{R(this,M,"ColorModes",16)}}function T(q){if(q=q.replace(/^#/,""),q.length===3)q=q.split("").map(function(z){return z+z}).join("");let w=parseInt(q,16);return{r:w>>16&255,g:w>>8&255,b:w&255}}function d(q,w,z){let E=function(G){return G.toString(16).padStart(2,"0")};return"#"+E(q)+E(w)+E(z)}function X(q){return q/=255,q<=0.04045?q/12.92:Math.pow((q+0.055)/1.055,2.4)}function O(q){return q<=0.0031308?12.92*q:1.055*Math.pow(q,0.4166666666666667)-0.055}function v(q,w,z){let E=0.4122214708*q+0.5363325363*w+0.0514459929*z,G=0.2119034982*q+0.6806995451*w+0.1073969566*z,B=0.0883024619*q+0.2817188376*w+0.6299787005*z,N=Math.cbrt(E),I=Math.cbrt(G),J=Math.cbrt(B);return{L:0.2104542553*N+0.793617785*I-0.0040720468*J,a:1.9779984951*N-2.428592205*I+0.4505937099*J,b:0.0259040371*N+0.7827717662*I-0.808675766*J}}function c(q,w,z){let E=q+0.3963377774*w+0.2158037573*z,G=q-0.1055613458*w-0.0638541728*z,B=q-0.0894841775*w-1.291485548*z,N=E**3,I=G**3,J=B**3;return{r:4.0767416621*N-3.3077115913*I+0.2309699292*J,g:-1.2684380046*N+2.6097574011*I-0.3413193965*J,b:-0.0041960863*N-0.7034186147*I+1.707614701*J}}function L(q,w,z){let E=T(q),G=T(z),B={r:X(E.r),g:X(E.g),b:X(E.b)},N={r:X(G.r),g:X(G.g),b:X(G.b)},I=v(B.r,B.g,B.b),J=v(N.r,N.g,N.b),P=w/100,Q={L:I.L*P+J.L*(1-P),a:I.a*P+J.a*(1-P),b:I.b*P+J.b*(1-P)},U=c(Q.L,Q.a,Q.b),D={r:Math.round(Math.min(Math.max(O(U.r),0),1)*255),g:Math.round(Math.min(Math.max(O(U.g),0),1)*255),b:Math.round(Math.min(Math.max(O(U.b),0),1)*255)};return d(D.r,D.g,D.b)}function e(q,w,z,E){let G=[];for(let B=0;B<=9;B++)G.push(L(z,B*10,w));G.push(z);for(let B=1;B<=10;B++)G.push(L(z,100-B*10,E));if(q)for(let B=0;B<=19;B++)globalThis.document.documentElement.style.setProperty("--"+q+B,"light-dark("+G[B]+","+G[19-B]+")");return G}export{e as pallete,L as mix,_ as ColorModes};
